[gd_scene load_steps=7 format=3 uid="uid://dr38hholcs2sx"]

[ext_resource type="Script" path="res://scripts/playground/carousel_seat.gd" id="1_jt17v"]
[ext_resource type="ArrayMesh" uid="uid://dwakji1jlybm0" path="res://assets/models/tapdig-playground-lowpoly/carousel/Circle_003.res" id="2_hcxlv"]
[ext_resource type="Script" path="res://addons/smoothing/smoothing.gd" id="2_wqh7r"]
[ext_resource type="Script" path="res://scenes/playground/swingset/qte.gd" id="5_wk5yn"]

[sub_resource type="BoxShape3D" id="BoxShape3D_muits"]
size = Vector3(2.5, 1, 2.5)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_fnope"]
points = PackedVector3Array(-1.42455e-05, 0.0727842, 0.00861288, 0.0141949, 0.0713876, 0.00861288, -1.42455e-05, 0.0727842, 0, -0.0142091, 0.0713876, 0.00861288, -1.42455e-05, 0.0702189, 0.0474751, 0.0278481, 0.0672545, 0.00861288, 0.0141949, 0.0713876, 0, 0.000612833, 0.0700621, 0.0474677, 0.000612833, 0.0687652, 0.0575632, -0.0142091, 0.0713876, 0, -0.0278624, 0.0672545, 0.00861288, -0.000627078, 0.0687652, 0.0575632, -0.000627078, 0.0700621, 0.0474677, -1.42455e-05, 0.068922, 0.0576228, 0.0404325, 0.0605276, 0.00861288, 0.0278481, 0.0672545, 0, 0.000612833, 0.0638768, 0.0649318, 0.0514635, 0.0514635, 0.00861288, -0.0278624, 0.0672545, 0, -0.0404468, 0.0605276, 0.00861288, -0.000627078, 0.0638768, 0.0649318, -0.0514777, 0.0514635, 0.00861288, 7.45058e-09, 0.0639766, 0.0650585, 0.0404325, 0.0605276, 0, 7.45058e-09, 0.0557105, 0.0681952, 0.000612833, 0.0556678, 0.0680313, 0.0638768, 0.000612833, 0.0649318, 0.0514635, 0.0514635, 0, 0.0687652, 0.000612833, 0.0575632, 0.0605276, 0.0404325, 0.00861288, -0.0404468, 0.0605276, 0, -0.0638911, 0.000612833, 0.0649318, -0.000627078, 0.0556678, 0.0680313, -0.0514777, 0.0514635, 0, -0.0605419, 0.0404325, 0.00861288, -0.0687794, 0.000612833, 0.0575632, 0.000826612, 0.000826612, 0.075996, 0.0557105, -1.42455e-05, 0.0681952, 0.0556678, 0.000612833, 0.0680313, -0.0557247, -1.42455e-05, 0.0681952, -0.00084085, 0.000826612, 0.075996, -1.42455e-05, 0.000826612, 0.0760481, 0.0639766, -1.42455e-05, 0.0650585, 0.068922, -1.42455e-05, 0.0576228, 0.0605276, 0.0404325, 0, 0.0700621, 0.000612833, 0.0474677, 0.0713876, 0.0141949, 0.00861288, 0.0672545, 0.0278481, 0.00861288, -0.0689362, -1.42455e-05, 0.0576228, -0.0639908, -1.42455e-05, 0.0650585, -0.055682, 0.000612833, 0.0680313, -0.0605419, 0.0404325, 0, -0.0672688, 0.0278481, 0.00861288, -0.0714018, 0.0141949, 0.00861288, -0.0700764, 0.000612833, 0.0474677, -1.42455e-05, -1.42455e-05, 0.0761077, 0.000826612, -1.42455e-05, 0.0760481, 0.0556678, -0.000627078, 0.0680313, 0.0638768, -0.000627078, 0.0649318, 0.000826612, -0.00084085, 0.075996, 7.45058e-09, -0.0557247, 0.0681952, -0.0638911, -0.000627078, 0.0649318, -0.055682, -0.000627078, 0.0680313, -0.000627078, -0.055682, 0.0680313, -0.00084085, -0.00084085, 0.075996, -0.00084085, -1.42455e-05, 0.0760481, 0.0687652, -0.000627078, 0.0575632, 0.0700621, -0.000627078, 0.0474677, 0.0702189, -1.42455e-05, 0.0474751, 0.0672545, 0.0278481, 0, 0.0727842, -1.42455e-05, 0.00861288, 0.0713876, 0.0141949, 0, -0.0702331, -1.42455e-05, 0.0474751, -0.0700764, -0.000627078, 0.0474677, -0.0687794, -0.000627078, 0.0575632, -0.0672688, 0.0278481, 0, -0.0714018, 0.0141949, 0, -0.0727985, -1.42455e-05, 0.00861288, -1.42455e-05, -0.00084085, 0.0760481, 0.000612833, -0.055682, 0.0680313, 0.0514635, -0.0514777, 0.00861288, 0.000612833, -0.0638911, 0.0649318, 7.45058e-09, -0.0639908, 0.0650585, -0.000627078, -0.0638911, 0.0649318, -0.0514777, -0.0514777, 0.00861288, 0.0672545, -0.0278624, 0.00861288, 0.0713876, -0.0142091, 0.00861288, 0.0605276, -0.0404468, 0.00861288, 0.0727842, -1.42455e-05, 0, -0.0714018, -0.0142091, 0.00861288, -0.0672688, -0.0278624, 0.00861288, -0.0605419, -0.0404468, 0.00861288, -0.0727985, -1.42455e-05, 0, 0.000612833, -0.0687794, 0.0575632, 0.0404325, -0.0605419, 0.00861288, 0.0514635, -0.0514777, 0, -1.42455e-05, -0.0689362, 0.0576228, -0.000627078, -0.0687794, 0.0575632, -0.0514777, -0.0514777, 0, -0.0404468, -0.0605419, 0.00861288, 0.0672545, -0.0278624, 0, 0.0713876, -0.0142091, 0, 0.0605276, -0.0404468, 0, -0.0714018, -0.0142091, 0, -0.0672688, -0.0278624, 0, -0.0605419, -0.0404468, 0, 0.000612833, -0.0700764, 0.0474677, 0.0141949, -0.0714018, 0.00861288, 0.0278481, -0.0672688, 0.00861288, 0.0404325, -0.0605419, 0, -0.000627078, -0.0700764, 0.0474677, -1.42455e-05, -0.0702331, 0.0474751, -0.0278624, -0.0672688, 0.00861288, -0.0142091, -0.0714018, 0.00861288, -0.0404468, -0.0605419, 0, 0.0141949, -0.0714018, 0, -1.42455e-05, -0.0727985, 0.00861288, 0.0278481, -0.0672688, 0, -0.0278624, -0.0672688, 0, -0.0142091, -0.0714018, 0, -1.42455e-05, -0.0727985, 0)

[node name="Carousel" type="Node3D"]

[node name="CarouselSeat" type="RigidBody3D" parent="." node_paths=PackedStringArray("player_seated_location", "hover_detector", "highlight_target")]
collision_layer = 16
collision_mask = 16
axis_lock_linear_x = true
axis_lock_linear_y = true
axis_lock_linear_z = true
axis_lock_angular_x = true
axis_lock_angular_z = true
script = ExtResource("1_jt17v")
player_seated_location = NodePath("Smoothing/PlayerPosition")
override_exit_behavior = true
hover_detector = NodePath("HoverDetector")
highlight_target = NodePath("Smoothing/CarouselModel")
glow_outline_thickness = 1.0

[node name="HoverDetector" type="Area3D" parent="CarouselSeat"]
collision_layer = 16
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="CarouselSeat/HoverDetector"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.555259, 0)
shape = SubResource("BoxShape3D_muits")

[node name="Smoothing" type="Node3D" parent="CarouselSeat"]
script = ExtResource("2_wqh7r")

[node name="CarouselModel" type="MeshInstance3D" parent="CarouselSeat/Smoothing"]
transform = Transform3D(16, 0, 0, 0, -6.99382e-07, 16, 0, -16, -6.99382e-07, 0, 0, 0)
mesh = ExtResource("2_hcxlv")
skeleton = NodePath("../..")

[node name="PlayerPosition" type="Node3D" parent="CarouselSeat/Smoothing"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.919096, 0.941154, 0.523976)

[node name="CollisionShape3D" type="CollisionShape3D" parent="CarouselSeat"]
transform = Transform3D(16, 0, 0, 0, -6.99382e-07, 16, 0, -16, -6.99382e-07, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_fnope")

[node name="QTE" type="Node3D" parent="."]
script = ExtResource("5_wk5yn")

[node name="CenterChecker" type="RayCast3D" parent="QTE"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.919, 0.242358, 0.524)
target_position = Vector3(0, 1, 0)
collision_mask = 18
hit_from_inside = true

[connection signal="end" from="QTE" to="CarouselSeat" method="_on_qte_end"]
